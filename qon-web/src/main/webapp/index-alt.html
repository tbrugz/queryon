<!DOCTYPE html>
<html>
<head>
	<title>QueryOn</title>
	<link href="css/queryon.css" rel="stylesheet">
	<link href="css/qon-components.css" rel="stylesheet">
	<link rel="stylesheet" href="css/font-awesome/css/font-awesome.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="favicon.png" />
	<script type="text/javascript" src="js/jquery-2.1.0.min.js"></script>
	<script src="js/auth.js"></script>
	<script src="js/models.js"></script>
	<script src="js/menu.js"></script>
	<script>
onLoad = function() {
	//console.log("onload");
	loadAuthInfo();
	loadModels();//function() { loadModelsContent(); loadMenuContentCallback("(from onLoad)"); });
	//loadMenu();
}

loadAuthInfoCallback = function() {
	//console.log("loadAuthInfoCallback");
	//loadModelsContentCallback("(from makeHrefs)");
	refreshAuthInfo();
	drawMenu();
}

loadMenuContentCallback = function () {
	//console.log("loadMenuContentCallback");
	//loadAuthInfo();
	//loadModels(loadModelsContentCallback);
	drawMenu();
}

loadModelsContentCallback = function () {
	//console.log("loadModelsContentCallback");
	drawMenu();
}

drawMenu = function () {
	//console.log("drawMenu");
	if(typeof authInfo == "undefined" || typeof modelsInfo == "undefined" || typeof menucontent == "undefined") {
		console.warn("something is not right.. have auth.js, models.js & menu.js been loaded?");
		return;
	}
	if(authInfo.loaded == false || modelsInfo == null || menucontent == null) {
		console.log("drawMenu: cant draw yet...");
		//console.log("authInfo=", authInfo, "modelsInfo=", modelsInfo, "menucontent=", menucontent);
		return;
	}
	
	var menu = createMenuContent(false);
	var content = document.getElementById('content');
	content.appendChild(menu);
	//loadMenuContentCallback("(from loadModelsContentCallback)");
}
	</script>
	<style type="text/css">
	#logo-container {
		/*padding: 2px;*/
		font-size: 50pt;
		/*padding-left: 10px;
		padding-right: 10px;*/
		font-weight: bolder;
		padding-top: 50px;
		text-align: center;
		left: 0;
		right: 0;
		position: absolute;
		z-index: 10;
	}
	#content {
		font-size: large;
		position: absolute;
		left: 30%;
		right: 30%;
		padding-top: 200px;
		text-align: center;
	}
	#authinfo {
		position: absolute;
		right: 0;
		z-index: 20;
		padding-top: 30px;
		padding-right: 30px;
		font-weight: bold;
	}
	#authinfo span {
		padding: 8px;
	}
	#authaction {
		background-color: #aaa;
	}
	#authaction a, #authaction a:visited {
		text-decoration: none;
		color: #000;
	}
	#username {
		color: #ddd;
		background-color: #555;
	}
	#menuicon {
		/*display: none;*/
	}
	</style>
</head>
<body onload="onLoad();">
<span id="authinfo">
	<span id="username"></span>
	<span id="authaction"></span>
</span>
<div id="logo-container">
	<div id="logo">Query<span style="color: #ff8a47">On</span></div>
</div>
<div id="content">
</div>
</body>
</html>
